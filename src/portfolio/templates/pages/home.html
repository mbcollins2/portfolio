{% extends 'base.html' %}

{% block content %}
  <!-- Content -->
  <div class="content">

    <!-- Hero -->
    <div class="container col-xxl-8 px-4 py-5">
      <div class="row g-5 py-5">


        <!-- <div class="col-12 col-lg-4 d-flex justify-content-center">
          <img src="../../static/images/profile_pic.jpg" class="profile-pic" alt="Headshot">
        </div> -->
        <div class="blob-container">
        <img src="../../static/images/profile_pic.jpg" alt="Your Name" class="profile-picture">

        <svg class="blob-svg" viewBox="0 0 500 500">
        <defs>
            <filter id="blob-filter-1">
            <feTurbulence type="fractalNoise" baseFrequency="0.01" numOctaves="1" seed="1">
                <animate attributeName="baseFrequency" dur="38s" values="0.01;0.015;0.01" repeatCount="indefinite" />
            </feTurbulence>
            <feDisplacementMap in="SourceGraphic" scale="15" />
            </filter>
            <filter id="blob-filter-2">
            <feTurbulence type="fractalNoise" baseFrequency="0.01" numOctaves="1" seed="2">
                <animate attributeName="baseFrequency" dur="43s" values="0.01;0.02;0.01" repeatCount="indefinite" />
            </feTurbulence>
            <feDisplacementMap in="SourceGraphic" scale="15" />
            </filter>
            <filter id="blob-filter-3">
            <feTurbulence type="fractalNoise" baseFrequency="0.01" numOctaves="1" seed="3">
                <animate attributeName="baseFrequency" dur="51s" values="0.01;0.017;0.01" repeatCount="indefinite" />
            </feTurbulence>
            <feDisplacementMap in="SourceGraphic" scale="15" />
            </filter>
        </defs>

        <g>
            <ellipse cx="250" cy="250" rx="180" ry="180" fill-opacity="0.25" fill="#8787BB" filter="url(#blob-filter-1)">
            <animate attributeName="cx" dur="90s" repeatCount="indefinite" class="randomize-values" data-center="250" data-variance="0.1" />
            <animate attributeName="cy" dur="90s" repeatCount="indefinite" class="randomize-values" data-center="250" data-variance="0.1" />
            <animate attributeName="rx" dur="90s" repeatCount="indefinite" class="randomize-values" data-center="180" data-variance="0.3" />
            <animate attributeName="ry" dur="90s" repeatCount="indefinite" class="randomize-values" data-center="180" data-variance="0.3" />
            </ellipse>

            <ellipse cx="250" cy="250" rx="180" ry="180" fill-opacity="0.2" fill="#8787BB" filter="url(#blob-filter-2)">
            <animate attributeName="cx" dur="90s" repeatCount="indefinite" class="randomize-values" data-center="250" data-variance="0.1" />
            <animate attributeName="cy" dur="90s" repeatCount="indefinite" class="randomize-values" data-center="250" data-variance="0.1" />
            <animate attributeName="rx" dur="90s" repeatCount="indefinite" class="randomize-values" data-center="180" data-variance="0.3" />
            <animate attributeName="ry" dur="90s" repeatCount="indefinite" class="randomize-values" data-center="180" data-variance="0.3" />
            </ellipse>

            <ellipse cx="250" cy="250" rx="180" ry="180" fill-opacity="0.15" fill="#8787BB" filter="url(#blob-filter-3)">
            <animate attributeName="cx" dur="90s" repeatCount="indefinite" class="randomize-values" data-center="250" data-variance="0.1" />
            <animate attributeName="cy" dur="90s" repeatCount="indefinite" class="randomize-values" data-center="250" data-variance="0.1" />
            <animate attributeName="rx" dur="90s" repeatCount="indefinite" class="randomize-values" data-center="180" data-variance="0.3" />
            <animate attributeName="ry" dur="90s" repeatCount="indefinite" class="randomize-values" data-center="180" data-variance="0.3" />
            </ellipse>
        </g>
        </svg>

        </div>



        <div class="col-12 col-lg-8">
          <h1 class="display-4 fw-bold text-body-emphasis lh-1 mb-3">Hi, I'm Matt</h1>

          <h5 class="accent-text" style="font-size:1.4rem;">MS Computer Science | MBA</h5>
          <p class="mb-auto">&nbsp;</p>

          <p style="font-size:1.3rem;">{{ yoe }}+ years in
            <span class="fw-bolder accent-text-color"><strong>{</strong></span>
            data science | analytics | ai
            <span class="fw-bolder accent-text-color"><strong>}</strong></span>
          </p>
          <p class="mb-auto">&nbsp;</p>
          <p style="font-size:1.3rem;">
            You can read more about the
            <a href="{{ url_for('projects') }}" rel="noopener noreferrer" style="text-decoration: none;">
              <span class="text-sm hero-text-link accent-text">personal projects</span>
            </a>
            that I've worked on and get to my
            <a class="text-body-secondary" href="https://github.com/mbcollins2" target="_blank" rel="noopener noreferrer" style="text-decoration: none;">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi" viewBox="0 0 16 16">
                  <path d="M8 0C3.58 0 0 3.58 0 8c0 3.54 2.29 6.53 5.47 7.59.4.07.55-.17.55-.38 0-.19-.01-.82-.01-1.49-2.01.37-2.53-.49-2.69-.94-.09-.23-.48-.94-.82-1.13-.28-.15-.68-.52-.01-.53.63-.01 1.08.58 1.23.82.72 1.21 1.87.87 2.33.66.07-.52.28-.87.51-1.07-1.78-.2-3.64-.89-3.64-3.95 0-.87.31-1.59.82-2.15-.08-.2-.36-1.02.08-2.12 0 0 .67-.21 2.2.82.64-.18 1.32-.27 2-.27s1.36.09 2 .27c1.53-1.04 2.2-.82 2.2-.82.44 1.1.16 1.92.08 2.12.51.56.82 1.27.82 2.15 0 3.07-1.87 3.75-3.65 3.95.29.25.54.73.54 1.48 0 1.07-.01 1.93-.01 2.2 0 .21.15.46.55.38A8.01 8.01 0 0 0 16 8c0-4.42-3.58-8-8-8"/>
              </svg>
            </a>
            and
            <a class="text-body-secondary" href="https://www.linkedin.com/in/matthewbcollins" target="_blank" rel="noopener noreferrer" style="text-decoration: none;">
              <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" class="bi" viewBox="0 0 16 16">
                  <path d="M0 1.146C0 .513.526 0 1.175 0h13.65C15.474 0 16 .513 16 1.146v13.708c0 .633-.526 1.146-1.175 1.146H1.175C.526 16 0 15.487 0 14.854zm4.943 12.248V6.169H2.542v7.225zm-1.2-8.212c.837 0 1.358-.554 1.358-1.248-.015-.709-.52-1.248-1.342-1.248S2.4 3.226 2.4 3.934c0 .694.521 1.248 1.327 1.248zm4.908 8.212V9.359c0-.216.016-.432.08-.586.173-.431.568-.878 1.232-.878.869 0 1.216.662 1.216 1.634v3.865h2.401V9.25c0-2.22-1.184-3.252-2.764-3.252-1.274 0-1.845.7-2.165 1.193v.025h-.016l.016-.025V6.169h-2.4c.03.678 0 7.225 0 7.225z"/>
              </svg>
            </a>
          </p>
        </div>
      </div>
    </div>

  </div>

  <script>
    /**
     * Generates a randomized list of values for SVG animation.
     * @param {number} center - The base value to vary from.
     * @param {number} variance - The percentage to vary by (e.g., 0.1 for 10%).
     * @param {number} steps - How many keyframes in the animation loop.
     * @returns {string} - A semicolon-separated string of values.
     */
    function generateRandomValues(center, variance, steps = 5) {
        const halfVariance = variance / 2;
        const min = center * (1 - halfVariance);
        const max = center * (1 + halfVariance);

        let values = [center.toFixed(3)]; // Start at the center
        for (let i = 0; i < steps - 1; i++) {
        const randomValue = Math.random() * (max - min) + min;
        values.push(randomValue.toFixed(3));
        }
        values.push(center.toFixed(3)); // End at the center to make a clean loop

        return values.join(';');
    }

    // Wait for the page to fully load before running the script
    document.addEventListener('DOMContentLoaded', () => {
        // Find all <animate> tags that we want to randomize
        const animationsToRandomize = document.querySelectorAll('.randomize-values');

        animationsToRandomize.forEach(animation => {
        const center = parseFloat(animation.dataset.center);
        const variance = parseFloat(animation.dataset.variance);

        if (!isNaN(center) && !isNaN(variance)) {
            const newValues = generateRandomValues(center, variance);
            animation.setAttribute('values', newValues);
        }
        });
    });
  </script>
{% endblock content %}
